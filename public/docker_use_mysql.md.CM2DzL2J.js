import{_ as s,c as i,o as a,a3 as n}from"./chunks/framework.D6RIsNC-.js";const F=JSON.parse('{"title":"安装MySQL","description":"","frontmatter":{},"headers":[],"relativePath":"docker/use/mysql.md","filePath":"docker/use/mysql.md"}'),l={name:"docker/use/mysql.md"},t=n(`<h1 id="安装mysql" tabindex="-1">安装MySQL <a class="header-anchor" href="#安装mysql" aria-label="Permalink to &quot;安装MySQL&quot;">​</a></h1><h2 id="安装-mysql-8-0" tabindex="-1">安装 MySQL 8.0 <a class="header-anchor" href="#安装-mysql-8-0" aria-label="Permalink to &quot;安装 MySQL 8.0&quot;">​</a></h2><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes material-theme-lighter material-theme-darker vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">version</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &#39;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">3.8</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">service</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">  mysql</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">    image</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> mysql:8.0</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">    container_name</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> baldhead_mysql8</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">    hostname</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> mysql</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">    restart</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> always</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">    volumes</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">      -</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> /application/dockerData/mysql/conf:/etc/mysql/conf.d</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">      -</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> /application/dockerData/mysql/logs:/logs</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">      -</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> /application/dockerData/mysql/data:/var/lib/mysql</span></span>
<span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#545454;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">      # 宿主机时间</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">      -</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> /etc/localtime:/etc/localtime</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">      -</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> /application/mysql/sql:/docker-entrypoint-initdb.d</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">    environment</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">      -</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> TZ=Asia/Shanghai</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">      -</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> LANG=en_US.UTF-8</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">      -</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> MYSQL_ROOT_PASSWORD=bbibm@2024</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">    command</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">      --default-storage-engine=INNODB</span></span>
<span class="line"><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">      --default-authentication-plugin=mysql_native_password</span></span>
<span class="line"><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">      --character-set-server=utf8mb4</span></span>
<span class="line"><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">      --collation-server=utf8mb4_general_ci</span></span>
<span class="line"><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">      --explicit_defaults_for_timestamp=true</span></span>
<span class="line"><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">      --lower_case_table_names=1</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">    privileged</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#FF5370;--shiki-dark:#FF9CAC;"> true</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">    user</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> root</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">    ports</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">      -</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">3306:3306</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">    networks</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">      -</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> bbibm_network</span></span></code></pre></div><h3 id="配置文件" tabindex="-1">配置文件 <a class="header-anchor" href="#配置文件" aria-label="Permalink to &quot;配置文件&quot;">​</a></h3><div class="language-properties vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">properties</span><pre class="shiki shiki-themes material-theme-lighter material-theme-darker vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#545454;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># 服务端参数配置</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">[mysqld]</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">user</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#90A4AE;--shiki-dark:#EEFFFF;">mysql                            </span><span style="--shiki-light:#90A4AE;--shiki-dark:#545454;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># MySQL启动用户</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">default-storage-engine</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#90A4AE;--shiki-dark:#EEFFFF;">INNODB         </span><span style="--shiki-light:#90A4AE;--shiki-dark:#545454;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># 创建新表时将使用的默认存储引擎</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">character-set-server</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#90A4AE;--shiki-dark:#EEFFFF;">utf8mb4          </span><span style="--shiki-light:#90A4AE;--shiki-dark:#545454;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># 设置mysql服务端默认字符集</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">collation-server</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#90A4AE;--shiki-dark:#EEFFFF;">utf8mb4_general_ci   </span><span style="--shiki-light:#90A4AE;--shiki-dark:#545454;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># 数据库字符集对应一些排序等规则，注意要和character-set-server对应</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">default-authentication-plugin</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#90A4AE;--shiki-dark:#EEFFFF;">mysql_native_password</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">max_connections</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#90A4AE;--shiki-dark:#EEFFFF;">1000    </span><span style="--shiki-light:#90A4AE;--shiki-dark:#545454;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># 允许最大连接数</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">max_connect_errors</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#90A4AE;--shiki-dark:#EEFFFF;">100  </span><span style="--shiki-light:#90A4AE;--shiki-dark:#545454;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># 最大错误连接数</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">[mysql]</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">default-character-set</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#90A4AE;--shiki-dark:#EEFFFF;">utf8mb4</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">[client]</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">default-character-set</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#90A4AE;--shiki-dark:#EEFFFF;">utf8mb4  </span><span style="--shiki-light:#90A4AE;--shiki-dark:#545454;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># 设置mysql客户端默认字符集</span></span></code></pre></div>`,5),h=[t];function k(e,p,r,d,y,c){return a(),i("div",null,h)}const g=s(l,[["render",k]]);export{F as __pageData,g as default};
