import{_ as s,c as i,o as a,a3 as n}from"./chunks/framework.D6RIsNC-.js";const y=JSON.parse('{"title":"安装PowerJob","description":"","frontmatter":{},"headers":[],"relativePath":"docker/use/powerjob.md","filePath":"docker/use/powerjob.md"}'),l={name:"docker/use/powerjob.md"},p=n(`<h1 id="安装powerjob" tabindex="-1">安装PowerJob <a class="header-anchor" href="#安装powerjob" aria-label="Permalink to &quot;安装PowerJob&quot;">​</a></h1><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes material-theme-lighter material-theme-darker vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#545454;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># https://github.com/PowerJob/PowerJob/blob/master/docker-compose.yml</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#545454;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># 使用说明 V4.1.1</span></span>
<span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#545454;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># 1. PowerJob 根目录执行：docker-compose up</span></span>
<span class="line"><span style="--shiki-light:#90A4AE;--shiki-dark:#545454;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># 2. 静静等待服务启动。刚开始启动时，powerjob-worker-samples会启动失败，等powerjob-server启动成功后，powerjob-worker-samples才会启动成功。</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">version</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &#39;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">3.8</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">services</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">  powerjob-mysql</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">    environment</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">      MYSQL_ROOT_HOST</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">%</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">      MYSQL_ROOT_PASSWORD</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> 123456!</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">    restart</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> always</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">    container_name</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> powerjob-mysql</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">    image</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> powerjob/powerjob-mysql:latest</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">    ports</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">      -</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">3307:3306</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">    volumes</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">      -</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> /application/dockerData/powerjob-data/powerjob-mysql:/var/lib/mysql</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">    command</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> --lower_case_table_names=1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">  powerjob-server</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">    container_name</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> powerjob-server</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">    image</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> powerjob/powerjob-server:latest</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">    restart</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> always</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">    depends_on</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">      -</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> powerjob-mysql</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">    environment</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">      PARAMS</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">--oms.mongodb.enable=false --spring.datasource.core.jdbc-url=jdbc:mysql://powerjob-mysql:3306/powerjob-daily?useUnicode=true&amp;characterEncoding=UTF-8&amp;serverTimezone=Asia/Shanghai</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">    ports</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">      -</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">7700:7700</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">      -</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">10086:10086</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">      -</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">10010:10010</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">    volumes</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">      -</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> /application/dockerData/powerjob-data/powerjob-server:/root/powerjob/server/</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">  powerjob-worker-samples</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">    container_name</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> powerjob-worker-samples</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">    image</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> powerjob/powerjob-worker-samples:latest</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">    restart</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> always</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">    depends_on</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">      -</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> powerjob-mysql</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">      -</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> powerjob-server</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">    environment</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">      PARAMS</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">--powerjob.worker.server-address=powerjob-server:7700</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">    ports</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">      -</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">8081:8081</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">      -</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;">27777:27777</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#E53935;--shiki-dark:#F07178;">    volumes</span><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#39ADB5;--shiki-dark:#89DDFF;">      -</span><span style="--shiki-light:#91B859;--shiki-dark:#C3E88D;"> /application/dockerData/powerjob-data/powerjob-worker-samples:/root/powerjob/worker</span></span></code></pre></div>`,2),h=[p];function k(t,e,r,D,o,d){return a(),i("div",null,h)}const g=s(l,[["render",k]]);export{y as __pageData,g as default};
